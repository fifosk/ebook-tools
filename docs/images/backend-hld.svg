<svg xmlns="http://www.w3.org/2000/svg" width="760" height="420" viewBox="0 0 760 420">
  <style>
    text { font-family: 'Segoe UI', Tahoma, sans-serif; fill: #1a1a1a; font-size: 16px; }
    .title { font-size: 22px; font-weight: 600; }
    .subtitle { font-size: 14px; fill: #3d3d3d; }
    rect { rx: 8; ry: 8; }
    .layer { fill: #f5f7fb; stroke: #c7d2fe; stroke-width: 2; }
    .component { fill: #ffffff; stroke: #64748b; stroke-width: 2; }
    .accent { fill: #eef2ff; stroke: #6366f1; stroke-width: 2; }
    .arrow { stroke: #4b5563; stroke-width: 2.5; marker-end: url(#arrowhead); }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4b5563" />
    </marker>
  </defs>
  <text class="title" x="30" y="42">Backend High-Level Design</text>
  <text class="subtitle" x="30" y="66">Request flow from client-facing APIs through pipeline orchestration and workers</text>

  <rect class="layer" x="20" y="90" width="720" height="300" />
  <text class="subtitle" x="40" y="116">Core Services</text>

  <rect class="component" x="60" y="140" width="160" height="90" />
  <text x="80" y="180">Clients</text>
  <text class="subtitle" x="80" y="204">SPA • CLI • Integrations</text>

  <rect class="accent" x="260" y="130" width="200" height="110" />
  <text x="280" y="168">FastAPI Gateway</text>
  <text class="subtitle" x="280" y="194">Auth, validation, SSE relay</text>
  <text class="subtitle" x="280" y="214">Routes: /auth, /pipelines, /storage</text>

  <rect class="component" x="520" y="120" width="180" height="130" />
  <text x="540" y="158">Pipeline Orchestrator</text>
  <text class="subtitle" x="540" y="184">Job scheduler, state persistence</text>
  <text class="subtitle" x="540" y="204">Redis / FS metadata</text>

  <rect class="component" x="60" y="260" width="220" height="90" />
  <text x="80" y="298">Worker Pool</text>
  <text class="subtitle" x="80" y="324">Ingestion → Transformation →</text>
  <text class="subtitle" x="80" y="344">Rendering → Packaging</text>

  <rect class="component" x="320" y="260" width="160" height="90" />
  <text x="340" y="298">Asset Storage</text>
  <text class="subtitle" x="340" y="324">Artifacts, manifests, logs</text>

  <rect class="component" x="520" y="260" width="180" height="90" />
  <text x="540" y="298">Observability</text>
  <text class="subtitle" x="540" y="324">Tracing, metrics, alerts</text>

  <line class="arrow" x1="220" y1="185" x2="260" y2="185" />
  <line class="arrow" x1="460" y1="185" x2="520" y2="185" />
  <line class="arrow" x1="610" y1="250" x2="610" y2="210" />
  <line class="arrow" x1="300" y1="305" x2="320" y2="305" />
  <line class="arrow" x1="480" y1="305" x2="520" y2="305" />
  <line class="arrow" x1="610" y1="210" x2="610" y2="250" />
  <line class="arrow" x1="140" y1="230" x2="140" y2="260" />
  <line class="arrow" x1="260" y1="305" x2="140" y2="305" />
</svg>

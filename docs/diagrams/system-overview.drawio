<mxfile host="app.diagrams.net" modified="2026-02-08T00:00:00.000Z" agent="draw.io" version="22.0.0" type="device">
  <diagram id="system-overview" name="System Overview">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="800" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="ebook-tools â€” System Overview" style="text;html=1;fontSize=20;fontStyle=1;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="30" y="10" width="400" height="40" as="geometry" />
        </mxCell>

        <!-- ==================== USER LAYER ==================== -->
        <mxCell id="user-layer" value="Clients" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=12;verticalAlign=top;spacingTop=4;dashed=1;dashPattern=5 5;" vertex="1" parent="1">
          <mxGeometry x="30" y="60" width="1140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="browser" value="Browser&#xa;(React SPA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="120" y="78" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ios-app" value="iOS App&#xa;(iPhone / iPad)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="280" y="78" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tvos-app" value="tvOS App&#xa;(Apple TV)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="450" y="78" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cli" value="CLI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="610" y="78" width="80" height="40" as="geometry" />
        </mxCell>

        <!-- ==================== DOCKER BOUNDARY ==================== -->
        <mxCell id="docker-boundary" value="Docker Compose" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#4d4d4d;fontStyle=1;fontSize=12;verticalAlign=top;spacingTop=4;dashed=1;dashPattern=8 4;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="30" y="155" width="850" height="570" as="geometry" />
        </mxCell>

        <!-- ==================== FRONTEND CONTAINER ==================== -->
        <mxCell id="frontend-container" value="Frontend Container (Nginx :5173)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=12;verticalAlign=top;spacingTop=4;" vertex="1" parent="1">
          <mxGeometry x="50" y="185" width="380" height="130" as="geometry" />
        </mxCell>
        <mxCell id="spa-lib" value="Library" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="65" y="215" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="spa-narrate" value="Book&#xa;Narration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="145" y="215" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="spa-jobs" value="Job Board" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="225" y="215" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="spa-player" value="Interactive&#xa;Player" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="305" y="215" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="spa-subs" value="Subtitles" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="65" y="260" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="spa-yt" value="YouTube&#xa;Dubbing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="145" y="260" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="spa-admin" value="Admin" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="225" y="260" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="spa-linguist" value="MyLinguist" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="305" y="260" width="80" height="30" as="geometry" />
        </mxCell>

        <!-- ==================== BACKEND CONTAINER ==================== -->
        <mxCell id="backend-container" value="Backend Container (FastAPI :8000)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=12;verticalAlign=top;spacingTop=4;" vertex="1" parent="1">
          <mxGeometry x="50" y="340" width="820" height="120" as="geometry" />
        </mxCell>
        <mxCell id="api-auth" value="/api/auth" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="65" y="370" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="api-pipelines" value="/api/pipelines" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="155" y="370" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="api-media" value="/api/media" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="265" y="370" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="api-assistant" value="/api/assistant" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="355" y="370" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="api-admin" value="/api/admin" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="465" y="370" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="api-subs" value="/api/subtitles" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="555" y="370" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="api-sse" value="SSE Streams" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="665" y="370" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="api-storage" value="/storage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="765" y="370" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="api-middle" value="JWT Auth Middleware  |  CORS  |  Config Manager" style="text;html=1;fontSize=10;fillColor=none;align=center;verticalAlign=middle;strokeColor=none;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="50" y="410" width="820" height="30" as="geometry" />
        </mxCell>

        <!-- ==================== PROCESSING LAYER ==================== -->
        <mxCell id="processing-layer" value="Processing Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=12;verticalAlign=top;spacingTop=4;" vertex="1" parent="1">
          <mxGeometry x="50" y="485" width="500" height="100" as="geometry" />
        </mxCell>
        <mxCell id="pipe-orch" value="Pipeline&#xa;Orchestrator" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="65" y="515" width="95" height="40" as="geometry" />
        </mxCell>
        <mxCell id="job-mgr" value="Job Manager&#xa;(state + persistence)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="175" y="515" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="worker-pool" value="Worker Pool&#xa;(parallel rendering)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="320" y="515" width="130" height="40" as="geometry" />
        </mxCell>

        <!-- ==================== SERVICE LAYER ==================== -->
        <mxCell id="service-layer" value="Service Backends" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=12;verticalAlign=top;spacingTop=4;" vertex="1" parent="1">
          <mxGeometry x="50" y="610" width="820" height="100" as="geometry" />
        </mxCell>
        <mxCell id="svc-translate" value="Translation Engine&#xa;Google Translate&#xa;+ Ollama LLM fallback" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#b85450;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="65" y="640" width="160" height="55" as="geometry" />
        </mxCell>
        <mxCell id="svc-tts" value="TTS Engine&#xa;macOS say | gTTS | Piper" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#b85450;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="240" y="640" width="160" height="55" as="geometry" />
        </mxCell>
        <mxCell id="svc-align" value="WhisperX&#xa;Forced Alignment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#b85450;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="415" y="640" width="130" height="55" as="geometry" />
        </mxCell>
        <mxCell id="svc-img" value="Image Generator&#xa;Draw Things /&#xa;Stable Diffusion" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#b85450;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="560" y="640" width="140" height="55" as="geometry" />
        </mxCell>
        <mxCell id="svc-resume" value="Resume &amp;&#xa;Bookmarks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#b85450;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="715" y="640" width="100" height="55" as="geometry" />
        </mxCell>

        <!-- ==================== EXTERNAL SERVICES ==================== -->
        <mxCell id="ext-ollama" value="Ollama / LM Studio&#xa;(LLM endpoint)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;strokeColor=#996185;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="920" y="340" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ext-drawthings" value="Draw Things&#xa;(Stable Diffusion API)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;strokeColor=#996185;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="920" y="410" width="160" height="50" as="geometry" />
        </mxCell>

        <!-- ==================== STORAGE LAYER ==================== -->
        <mxCell id="storage-layer" value="Storage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;fontSize=12;verticalAlign=top;spacingTop=4;" vertex="1" parent="1">
          <mxGeometry x="580" y="485" width="290" height="100" as="geometry" />
        </mxCell>
        <mxCell id="fs-jobs" value="storage/jobs/&#xa;(metadata, audio,&#xa;images, exports)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#666666;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="595" y="510" width="120" height="55" as="geometry" />
        </mxCell>
        <mxCell id="nas-mount" value="NAS Mounts&#xa;(ebooks, videos,&#xa;subtitles)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff;strokeColor=#666666;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="730" y="510" width="120" height="55" as="geometry" />
        </mxCell>

        <!-- ==================== TLS TERMINATION ==================== -->
        <mxCell id="synology" value="Synology DSM&#xa;Reverse Proxy&#xa;(TLS :443)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;strokeColor=#996185;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="920" y="185" width="160" height="60" as="geometry" />
        </mxCell>

        <!-- ==================== ARROWS ==================== -->
        <!-- Clients to Synology -->
        <mxCell id="a1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#4d4d4d;strokeWidth=1.5;exitX=0.5;exitY=1;entryX=0;entryY=0.5;" edge="1" source="browser" target="synology" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <!-- Synology to Frontend -->
        <mxCell id="a2" value="HTTPS" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#4d4d4d;strokeWidth=1.5;fontSize=9;fontColor=#666;" edge="1" source="synology" target="frontend-container" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <!-- Frontend proxy to Backend -->
        <mxCell id="a3" value="proxy /api/, /pipelines/, /storage/" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#6c8ebf;strokeWidth=1.5;fontSize=9;fontColor=#666;" edge="1" source="frontend-container" target="backend-container" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <!-- iOS direct to Backend -->
        <mxCell id="a4" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#4d4d4d;strokeWidth=1.5;" edge="1" source="ios-app" target="synology" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <!-- Backend to Processing -->
        <mxCell id="a5" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#d6b656;strokeWidth=1.5;" edge="1" source="backend-container" target="processing-layer" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <!-- Processing to Services -->
        <mxCell id="a6" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#b85450;strokeWidth=1.5;" edge="1" source="processing-layer" target="service-layer" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <!-- Processing to Storage -->
        <mxCell id="a7" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#666666;strokeWidth=1.5;" edge="1" source="processing-layer" target="storage-layer" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <!-- Backend to External: Ollama -->
        <mxCell id="a8" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#996185;strokeWidth=1.5;dashed=1;" edge="1" source="backend-container" target="ext-ollama" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <!-- Backend to External: Draw Things -->
        <mxCell id="a9" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#996185;strokeWidth=1.5;dashed=1;" edge="1" source="backend-container" target="ext-drawthings" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
